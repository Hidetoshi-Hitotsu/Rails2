<%= render "shared/search" %>


<div class="container">
    <div class="RoomLinkContainer d-flex justify-content-between">
        <%=link_to "← 戻る", :back ,class:"RoomLink" %>
        <% if user_signed_in? %>
            <% if @room.user_id == current_user.id %>
                <%= link_to "編集",edit_room_path ,class:"RoomLink" %>
            <% end %>
        <% end %>
    </div>

    <div class="RoomContentsContainer ">
        <div class="RoomImageContainer">
            <% if @room.image? %>
                <%= image_tag @room.image.url, class:"card-img-top Roomimg" ,size:"80x80" %>
            <% else %>
                <%= image_tag 'default-image.png', class:"card-img-top Roomimg" ,size:"80x80" %>
            <% end %>
        </div>

        <div class="RoomContentContainer">
            <div class="RoomTitle">
                <h3 class="text-gray"><%= @room.roomname %></h3>
                <h3 class="text-orange">¥<%= @room.price %>〜</h3>
            </div>
            <div class="RoomInfomation">
                <p class="text-gray"><%= @room.address %></p>
                <%# スターアイコンを挿入 %>
                <p><%=image_tag '' %></p>
            </div>
            <div class="RoomIntroduction">
                <p><%= @room.introduction %></p>
            </div>

            <%= form_with url:reservations_confirm_path , model:@reservation, method: :post do |f| %>
            <div class="RoomResevationContainer">
                <div class="ResevationInputContainer">
                <p>チェックイン</p>
                <%= f.date_field :checkin , min: Time.zone.now %>

                </div>
                <div class="ResevationInputContainer">
                <p>チェックアウト</p>
                <%= f.date_field :checkout , min: Time.zone.now %>

                </div>
                <div class="ResevationInputContainer">
                <p>人数</p>
                <%= f.number_field :number , placeholder: "人数を入力" %>

                </div>
                <% if user_signed_in? %>
                    <%= f.hidden_field :user_id, value: current_user.id %>
                    <%= f.hidden_field :room_id, value: @room.id %>
                <% end %>
            </div>                        
            <div class="RoomContentButton d-grid ">
                <% if user_signed_in? %>
                    <%= f.submit "予約", class: "btn btn-primary p-3" %>
                <% else %>                    
                    <%= link_to "ログイン" , new_user_session_path, class: "btn btn-primary p-3", method: :get %>
                <% end %>
            </div>
            <% end %>
            
        </div>
    </div>


</div>